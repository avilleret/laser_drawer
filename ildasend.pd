#N canvas 287 206 1561 790 10;
#X declare -path bin64;
#N canvas 568 139 450 537 make_table 0;
#X obj 42 -692 tabwrite ilda_X;
#X obj 165 -715 tabwrite ilda_Y;
#X obj 170 -938 until;
#X obj 170 -917 f;
#X obj 195 -917 + 1;
#X obj 170 -1018 t b b;
#X msg 197 -998 0;
#X obj 170 -1038 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 169 -892 t f f;
#X obj 168 -1064 loadbang;
#X obj 51 -814 t f;
#X obj 134 -614 % 2;
#X obj 134 -634 / 100;
#X obj 58 -842 / 99;
#X obj 170 -976 t f f;
#X obj 110 -883 - 1;
#X obj 161 -668 / 10;
#X obj 180 -780 * -1;
#X msg 170 -997 100;
#X obj 133 -583 tabwrite ilda_R;
#X obj 43 -742 random 1000;
#X obj 43 -720 / 1000;
#X obj 41 -767 t b;
#X obj 260 -1056 inlet;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 3 0 8 0;
#X connect 4 0 3 1;
#X connect 5 0 18 0;
#X connect 5 1 6 0;
#X connect 6 0 3 1;
#X connect 7 0 5 0;
#X connect 8 0 12 0;
#X connect 8 0 13 0;
#X connect 8 1 0 1;
#X connect 8 1 1 1;
#X connect 8 1 19 1;
#X connect 9 0 7 0;
#X connect 10 0 22 0;
#X connect 11 0 19 0;
#X connect 12 0 11 0;
#X connect 13 0 10 0;
#X connect 13 0 17 0;
#X connect 14 0 2 0;
#X connect 14 1 15 0;
#X connect 15 0 13 1;
#X connect 15 0 16 0;
#X connect 16 0 12 1;
#X connect 17 0 1 0;
#X connect 18 0 14 0;
#X connect 20 0 21 0;
#X connect 21 0 0 0;
#X connect 22 0 20 0;
#X connect 23 0 7 0;
#X restore -46 110 pd make_table;
#N canvas 68 308 1748 737 settings 0;
#X obj 56 11 cnv 15 198 448 empty empty settings 8 8 0 14 -261234 -258113
0;
#X obj 62 44 nbx 5 14 -1000 1000 0 1 \$0-posx_out \$0-posx_in proj_position_x
0 -8 0 10 -262144 -1 -1 0 256;
#X obj 62 74 nbx 5 14 -1000 1000 0 1 \$0-posy_out \$0-posy_in proj_position_y
0 -8 0 10 -262144 -1 -1 -0.26 256;
#X obj 62 104 nbx 5 14 -1000 1000 0 1 \$0-sizex_out \$0-sizex_in proj_scale_x
0 -8 0 10 -262144 -1 -1 0.6 256;
#X obj 62 134 nbx 5 14 -1000 1000 0 1 \$0-sizey_out \$0-sizey_in proj_scale_y
0 -8 0 10 -262144 -1 -1 0.6 256;
#X obj 62 154 tgl 15 1 \$0-invertx_out \$0-invertx_in invert_X 17 7
0 10 -262144 -1 -1 1 1;
#X obj 62 174 tgl 15 1 \$0-inverty_out \$0-inverty_in invert_Y 17 7
0 10 -262144 -1 -1 0 1;
#X obj 62 194 tgl 15 1 \$0-blankingoff_out \$0-blankingoff_in blanking_OFF
17 7 0 10 -262144 -1 -1 0 1;
#X obj 62 214 tgl 15 1 \$0-invertblanking_out \$0-invertblanking_in
blanking_invert 17 7 0 10 -262144 -1 -1 0 1;
#X obj 61 246 nbx 5 14 0 255 0 1 \$0-intensityr_out \$0-intensityr_in
R 0 -8 0 10 -262144 -1 -1 1 256;
#X obj 60 404 nbx 5 14 -1000 1000 0 1 \$0-end_line_correction_out \$0-end_line_correction_in
sample 57 7 0 10 -262144 -1 -1 -4 256;
#X obj 60 443 nbx 5 14 1 100 0 1 \$0-scan_freq_out \$0-scan_freq_in
kHz 57 7 0 10 -262144 -1 -1 12 256;
#X text 61 427 scanner frequency;
#X obj 364 67 route setting;
#X obj 364 89 route offset scale invert intensity colormode angle_correction
end_line_correction scan_freq;
#X obj 364 163 unpack 0 0 0;
#X obj 454 163 unpack 0 0 0;
#X obj 364 183 s \$0-posx_in;
#X obj 373 203 s \$0-posy_in;
#X obj 394 223 s \$0-posz_in;
#X obj 454 183 s \$0-sizex_in;
#X obj 463 203 s \$0-sizey_in;
#X obj 484 223 s \$0-sizez_in;
#X obj 554 163 unpack 0 0 0;
#X obj 554 183 s \$0-invertx_in;
#X obj 563 203 s \$0-inverty_in;
#X obj 584 223 s \$0-invertblanking_in;
#X obj 373 324 t b f;
#X obj 394 345 t b f;
#X obj 364 389 pack 0 0 0;
#X obj 493 324 t b f;
#X obj 514 345 t b f;
#X obj 484 389 pack 0 0 0;
#X obj 623 324 t b f;
#X obj 644 345 t b f;
#X obj 614 389 pack 0 0 0;
#X obj 364 263 r \$0-posx_out;
#X obj 373 283 r \$0-posy_out;
#X obj 394 303 r \$0-posz_out;
#X obj 484 263 r \$0-sizex_out;
#X obj 493 283 r \$0-sizey_out;
#X obj 514 303 r \$0-sizez_out;
#X obj 614 263 r \$0-invertx_out;
#X obj 623 283 r \$0-inverty_out;
#X obj 644 303 r \$0-invertblanking_out;
#X msg 364 411 offset \$1 \$2 \$3;
#X msg 484 411 scale \$1 \$2 \$3;
#X msg 614 411 invert \$1 \$2 \$3;
#X obj 484 669 s \$0-ildasend_in;
#X obj 364 45 r \$0-ildasend_out;
#X obj 121 246 nbx 5 14 0 255 0 1 \$0-intensityg_out \$0-intensityg_in
G 0 -8 0 10 -262144 -1 -1 1 256;
#X obj 181 246 nbx 5 14 0 255 0 1 \$0-intensityb_out \$0-intensityb_in
B 0 -8 0 10 -262144 -1 -1 1 256;
#X obj 694 163 unpack 0 0 0;
#X obj 694 183 s \$0-intensityr_in;
#X obj 703 203 s \$0-intensityg_in;
#X obj 724 223 s \$0-intensityb_in;
#X obj 813 324 t b f;
#X obj 834 345 t b f;
#X obj 804 389 pack 0 0 0;
#X obj 804 263 r \$0-intensityr_out;
#X obj 813 283 r \$0-intensityg_out;
#X obj 834 303 r \$0-intensityb_out;
#X msg 804 411 intensity \$1 \$2 \$3;
#X obj 993 268 r \$0-scan_freq_out;
#X msg 993 290 scan_freq \$1;
#X obj 1113 268 r \$0-end_line_correction_out;
#X msg 1113 290 end_line_correction \$1;
#X obj 1289 268 r \$0-angle_correction_out;
#X msg 1289 290 angle_correction \$1;
#X obj 117 566 pack f f f f f f f f;
#X obj 117 544 f;
#X obj 127 523 t b f;
#X obj 145 504 t b f;
#X obj 160 485 t b f;
#X obj 175 464 t b f;
#X obj 190 445 t b f;
#X obj 207 425 t b f;
#X obj 222 406 t b f;
#X msg 117 586 dst_point \$1 \$2 \$3 \$4 \$5 \$6 \$7 \$8;
#X obj 60 266 cnv 15 190 120 empty empty empty 20 12 0 14 -233017 -66577
0;
#X obj 72 289 nbx 5 16 -20000 20000 0 1 empty empty x -10 7 0 12 -203904
-1 -1 -1 256;
#X obj 72 309 nbx 5 16 -20000 20000 0 1 empty empty y -10 7 0 12 -203904
-1 -1 1 256;
#X obj 172 289 nbx 5 16 -2000 20000 0 1 empty empty x -10 7 0 12 -203904
-1 -1 1 256;
#X obj 172 309 nbx 5 16 -20000 20000 0 1 empty empty y -10 7 0 12 -203904
-1 -1 1 256;
#X obj 172 339 nbx 5 16 -20000 20000 0 1 empty empty x -10 7 0 12 -203904
-1 -1 1 256;
#X obj 172 359 nbx 5 16 -20000 20000 0 1 empty empty y -10 7 0 12 -203904
-1 -1 -1 256;
#X obj 72 339 nbx 5 16 -20000 20000 0 1 empty empty x -10 7 0 12 -203904
-1 -1 -1 256;
#X obj 72 359 nbx 5 16 -20000 20000 0 1 empty empty y -10 7 0 12 -203904
-1 -1 -1 256;
#X obj 66 269 tgl 15 1 empty empty perspective_correction 17 7 0 10
-262144 -1 -1 1 1;
#X msg 335 472 perspective_correction \$1;
#X text 58 390 blank delay;
#X obj 1448 268 r \$0-blankingoff_out;
#X msg 1448 290 blanking_off \$1;
#X connect 13 0 14 0;
#X connect 14 0 15 0;
#X connect 14 1 16 0;
#X connect 14 2 23 0;
#X connect 14 3 52 0;
#X connect 15 0 17 0;
#X connect 15 1 18 0;
#X connect 15 2 19 0;
#X connect 16 0 20 0;
#X connect 16 1 21 0;
#X connect 16 2 22 0;
#X connect 23 0 24 0;
#X connect 23 1 25 0;
#X connect 23 2 26 0;
#X connect 27 0 29 0;
#X connect 27 1 29 1;
#X connect 28 0 29 0;
#X connect 28 1 29 2;
#X connect 29 0 45 0;
#X connect 30 0 32 0;
#X connect 30 1 32 1;
#X connect 31 0 32 0;
#X connect 31 1 32 2;
#X connect 32 0 46 0;
#X connect 33 0 35 0;
#X connect 33 1 35 1;
#X connect 34 0 35 0;
#X connect 34 1 35 2;
#X connect 35 0 47 0;
#X connect 36 0 29 0;
#X connect 37 0 27 0;
#X connect 38 0 28 0;
#X connect 39 0 32 0;
#X connect 40 0 30 0;
#X connect 41 0 31 0;
#X connect 42 0 35 0;
#X connect 43 0 33 0;
#X connect 44 0 34 0;
#X connect 45 0 48 0;
#X connect 46 0 48 0;
#X connect 47 0 48 0;
#X connect 49 0 13 0;
#X connect 52 0 53 0;
#X connect 52 1 54 0;
#X connect 52 2 55 0;
#X connect 56 0 58 0;
#X connect 56 1 58 1;
#X connect 57 0 58 0;
#X connect 57 1 58 2;
#X connect 58 0 62 0;
#X connect 59 0 58 0;
#X connect 60 0 56 0;
#X connect 61 0 57 0;
#X connect 62 0 48 0;
#X connect 63 0 64 0;
#X connect 64 0 48 0;
#X connect 65 0 66 0;
#X connect 66 0 48 0;
#X connect 67 0 68 0;
#X connect 68 0 48 0;
#X connect 69 0 78 0;
#X connect 70 0 69 0;
#X connect 71 0 70 0;
#X connect 71 1 69 1;
#X connect 72 0 70 0;
#X connect 72 1 69 2;
#X connect 73 0 70 0;
#X connect 73 1 69 3;
#X connect 74 0 70 0;
#X connect 74 1 69 4;
#X connect 75 0 70 0;
#X connect 75 1 69 5;
#X connect 76 0 70 0;
#X connect 76 1 69 6;
#X connect 77 0 70 0;
#X connect 77 1 69 7;
#X connect 78 0 48 0;
#X connect 80 0 70 0;
#X connect 81 0 71 0;
#X connect 82 0 72 0;
#X connect 83 0 73 0;
#X connect 84 0 74 0;
#X connect 85 0 75 0;
#X connect 86 0 76 0;
#X connect 87 0 77 0;
#X connect 88 0 89 0;
#X connect 89 0 48 0;
#X connect 91 0 92 0;
#X connect 92 0 48 0;
#X coords 0 -1 1 1 200 450 2 55 10;
#X restore 379 22 pd settings;
#X obj -46 30 table ilda_Y 100;
#X obj -46 50 table ilda_R 100;
#X obj -46 70 table ilda_G 100;
#X obj -46 90 table ilda_B 100;
#X msg -81 202 settab x ilda_X y ilda_Y r ilda_R g ilda_G b ilda_B
;
#X obj -46 11 table ilda_X 100;
#X text -77 182 settab: associate an ILDA channel to a table;
#X text 45 250 connect <ip> <port> \, no multicast for now;
#N canvas 134 208 937 729 ildafile 0;
#X obj -815 28 openpanel;
#X floatatom -752 190 5 0 0 0 frame - -;
#X obj -690 264 route frame_info file_info;
#X obj -472 318 unpack 0 0 0 0;
#X obj -815 225 ildafile;
#X msg -815 50 read \$1 \, 0;
#X obj -662 172 f;
#X obj -589 189 + 1;
#X obj -646 99 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj -589 213 % 25;
#X obj -654 118 metro 200;
#X floatatom -584 94 5 0 0 0 - - -;
#X obj -793 -53 inlet;
#X obj -575 -29 inlet;
#X obj -654 140 t b b;
#X obj -664 220 outlet;
#X obj -439 -34 inlet;
#X obj -547 126 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X connect 0 0 5 0;
#X connect 1 0 4 0;
#X connect 2 1 3 0;
#X connect 3 0 9 1;
#X connect 4 0 2 0;
#X connect 5 0 4 0;
#X connect 6 0 7 0;
#X connect 6 0 1 0;
#X connect 7 0 9 0;
#X connect 8 0 10 0;
#X connect 9 0 6 1;
#X connect 10 0 14 0;
#X connect 11 0 10 1;
#X connect 12 0 0 0;
#X connect 13 0 4 0;
#X connect 14 0 15 0;
#X connect 14 1 6 0;
#X connect 16 0 8 0;
#X connect 17 0 14 0;
#X restore 131 470 pd ildafile;
#X obj 131 420 bng 15 250 50 0 empty empty open_a_file 17 7 0 10 -4032
-258113 -1;
#X obj -81 159 loadbang;
#X obj 157 106 metro 100;
#X obj 152 84 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 157 128 t b b;
#X obj 194 444 tgl 15 0 empty empty play 17 7 0 10 -262144 -1 -1 0
1;
#X obj 938 407 tabread ilda_X;
#X obj 938 327 until;
#X obj 666 53 declare -path bin64;
#X obj 812 206 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 938 307 arraysize ilda_X;
#X msg 938 429 add2 \$1;
#X obj 812 225 t b b b;
#X obj 938 349 f;
#X obj 964 348 + 1;
#X msg 889 265 0;
#N canvas 1 92 1132 873 message 0;
#X obj 170 49 inlet;
#X obj 94 680 outlet;
#X msg 177 78 /arrayXYB 0.634 0.289 0.155 0.714 0.144 0.138 0.787 0.424
0.9 0.305 0.749 0.328 0.009 0.703 0.366 0.535 0.258 0.949 0.257 0.603
0.595 0.099 0.322 0.773 0.615 0.386 0.722 0.2 0.044 0.948 0.868 0.191
0.225 0.567 0.405 0.436 0.599 0.404 0.193 0.247 0.192 0.728 0.293 0.789
0.097 0.657 0.955 0.315 0.963 0.888 0.595 0.399 0.474 0.433 0.786 0.175
0.837 0.353 0.241 0.564 0.264 0.492 0.793 0.517 0.458 0.214 0.385 0.243
0.097 0.132 0.052 0.445 0.319 0.847 0.904 0.555 0.204 0.682 0.113 0.969
0.261 0.413 0.897 0.28 0.911 0.009 0.5 0.512 0.971 0.359 0.185 0.356
0.141 0.014 0.208 0.405 0.486 0.915 0.813 0.384 -0 -0.010101 -0.020202
-0.030303 -0.040404 -0.050505 -0.0606061 -0.0707071 -0.0808081 -0.0909091
-0.10101 -0.111111 -0.121212 -0.131313 -0.141414 -0.151515 -0.161616
-0.171717 -0.181818 -0.191919 -0.20202 -0.212121 -0.222222 -0.232323
-0.242424 -0.252525 -0.262626 -0.272727 -0.282828 -0.292929 -0.30303
-0.313131 -0.323232 -0.333333 -0.343434 -0.353535 -0.363636 -0.373737
-0.383838 -0.393939 -0.40404 -0.414141 -0.424242 -0.434343 -0.444444
-0.454545 -0.464646 -0.474747 -0.484848 -0.494949 -0.50505 -0.515152
-0.525253 -0.535354 -0.545455 -0.555556 -0.565657 -0.575758 -0.585859
-0.59596 -0.606061 -0.616162 -0.626263 -0.636364 -0.646465 -0.656566
-0.666667 -0.676768 -0.686869 -0.69697 -0.707071 -0.717172 -0.727273
-0.737374 -0.747475 -0.757576 -0.767677 -0.777778 -0.787879 -0.79798
-0.808081 -0.818182 -0.828283 -0.838384 -0.848485 -0.858586 -0.868687
-0.878788 -0.888889 -0.89899 -0.909091 -0.919192 -0.929293 -0.939394
-0.949495 -0.959596 -0.969697 -0.979798 -0.989899 -1 0 0 0 0 0 0 0
0 0 0 1 1 1 1 1 1 1 1 1 1 0 0 0 0 0 0 0 0 0 0 1 1 1 1 1 1 1 1 1 1 0
0 0 0 0 0 0 0 0 0 1 1 1 1 1 1 1 1 1 1 0 0 0 0 0 0 0 0 0 0 1 1 1 1 1
1 1 1 1 1 0 0 0 0 0 0 0 0 0 0 1 1 1 1 1 1 1 1 1 0;
#X connect 0 0 2 0;
#X connect 2 0 1 0;
#X restore 831 479 pd message;
#X obj 831 501 packOSC;
#X obj 831 594 udpsend;
#X msg 866 558 connect 127.0.0.1 3265;
#X obj 866 538 loadbang;
#X obj 831 616 sel 0 1;
#X obj 831 668 del 1000;
#X msg 850 640 stop;
#X obj 814 618 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 824 330 until;
#X msg 824 432 add2 \$1;
#X obj 824 352 f;
#X obj 850 351 + 1;
#X obj 824 310 arraysize ilda_Y;
#X obj 824 410 tabread ilda_Y;
#X obj 630 284 t b;
#X obj 630 431 t b;
#X msg 1051 424 set /arrayXYB;
#X obj 828 267 t b b b;
#X obj 712 331 until;
#X msg 712 433 add2 \$1;
#X obj 712 353 f;
#X obj 738 352 + 1;
#X obj 712 311 arraysize ilda_R;
#X obj 712 411 tabread ilda_R;
#X connect 6 0 10 1;
#X connect 11 0 10 0;
#X connect 12 0 6 0;
#X connect 13 0 15 0;
#X connect 14 0 13 0;
#X connect 15 0 20 0;
#X connect 15 1 0 0;
#X connect 16 0 10 2;
#X connect 17 0 22 0;
#X connect 18 0 24 0;
#X connect 20 0 23 0;
#X connect 21 0 18 0;
#X connect 22 0 27 0;
#X connect 23 0 42 0;
#X connect 23 1 45 0;
#X connect 23 2 44 0;
#X connect 23 2 26 0;
#X connect 24 0 25 0;
#X connect 24 0 17 0;
#X connect 25 0 24 1;
#X connect 26 0 24 1;
#X connect 26 0 38 1;
#X connect 26 0 48 1;
#X connect 27 0 28 0;
#X connect 28 0 29 0;
#X connect 29 0 32 0;
#X connect 29 0 35 0;
#X connect 30 0 29 0;
#X connect 31 0 30 0;
#X connect 32 0 33 0;
#X connect 32 1 34 0;
#X connect 33 0 30 0;
#X connect 34 0 33 0;
#X connect 36 0 38 0;
#X connect 37 0 27 0;
#X connect 38 0 39 0;
#X connect 38 0 41 0;
#X connect 39 0 38 1;
#X connect 40 0 36 0;
#X connect 41 0 37 0;
#X connect 42 0 43 0;
#X connect 43 0 27 0;
#X connect 44 0 27 0;
#X connect 45 0 50 0;
#X connect 45 1 40 0;
#X connect 45 2 21 0;
#X connect 46 0 48 0;
#X connect 47 0 27 0;
#X connect 48 0 49 0;
#X connect 48 0 51 0;
#X connect 49 0 48 1;
#X connect 50 0 46 0;
#X connect 51 0 47 0;
